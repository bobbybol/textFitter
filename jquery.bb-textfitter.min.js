/*!
 * BB Text Fitter 2.2.1
 * Uses binary search to fit text with minimal layout calls.
 * https://github.com/bobbybol/textFitter
 * @license MIT licensed
 *
 * Copyright (C) 2017 bobbybol.com - A project by Bobby Bol
 * Thanks: @STRML - https://github.com/STRML
 */
!function(t){"use strict";t.fn.bbFitText=function(e){var n={minFontSize:6,maxFontSize:60,lineHeight:1.2,centerHorizontal:!1,centerVertical:!1,forceSingleLine:!1,scaleUpToo:!1,smartBreak:!1,smartBreakCharacter:"~"};return t.extend(n,e),this.each(function(){function f(t){var o,e=n.minFontSize+1,r=n.maxFontSize+1;if(!n.scaleUpToo&&t.height()<=i&&c.width()<=a);else{for(;r>=e;)o=parseInt((e+r)/2),t.css("font-size",o),t.height()<=i&&c.width()<=a?e=o+1:r=o-1;(c.width()>t.innerWidth()||t.height()>i)&&t.css("font-size",o-1)}}function l(){var i,a,r=o,l=s.trim().split(" ").filter(function(t){return t.indexOf(n.smartBreakCharacter)>-1}),h=l.map(function(t){var e=t.split(n.smartBreakCharacter);return{longwordOriginal:t,longwordBroken:e.join("- "),longwordIntact:e.join("")}});h.forEach(function(t){var e=t.longwordOriginal,n='<span class="smartWordBreak">'+t.longwordBroken+"</span>";r=r.replace(e,n)}),c.html(r);var u=c.find(".smartWordBreak");h.forEach(function(n,r){f(e),a=e.css("font-size"),t(u[r]).text(n.longwordIntact),f(e),i=e.css("font-size"),a>i&&(t(u[r]).text(n.longwordBroken),f(e))})}function h(){n.smartBreak&&-1!==s.indexOf(n.smartBreakCharacter)?l():f(e)}function u(){n.centerHorizontal&&e.css({textAlign:"center"}),n.centerVertical&&setTimeout(function(){r.css({display:"flex",flexDirection:"column",justifyContent:"center"})},10)}var c,e=t(this),r=e.parent(),i=r.height(),a=r.width(),o=e.html(),s=e.text();0===e.find("span.textfittie").length?(e.html(""),c=t("<SPAN>").addClass("textfittie").html(o),e.html(c)):c=e.find("span.textfittie"),n.forceSingleLine&&e.css({whiteSpace:"nowrap"}),e.css({lineHeight:n.lineHeight+"em"}),t.when(h()).done(u())})},t.fn.bbEqualizeText=function(){function e(e){return parseInt(t(e).css("fontSize"))}function n(t,e){return t>e?e:t}var r=this.toArray().map(e).reduce(n);return this.each(function(){t(this).css("fontSize",r)})}}(jQuery);